---
title: "CircleCI"
sidebar:
  order: 15
---

Trigger and monitor CircleCI pipelines

## Triggers

<CardGrid>
  <LinkCard title="On Pipeline Completed" href="#on-pipeline-completed" description="Listen to CircleCI workflow completion events" />
</CardGrid>

import { CardGrid, LinkCard } from "@astrojs/starlight/components";

## Actions

<CardGrid>
  <LinkCard title="Trigger Pipeline" href="#trigger-pipeline" description="Trigger a CircleCI pipeline and wait for completion" />
</CardGrid>

<a id="on-pipeline-completed"></a>

## On Pipeline Completed

The On Pipeline Completed trigger starts a workflow execution when a CircleCI workflow completes.

### Use Cases

- **Pipeline orchestration**: Chain workflows together based on pipeline completion
- **Status monitoring**: Monitor CI/CD pipeline results
- **Notification workflows**: Send notifications when workflows succeed or fail
- **Post-processing**: Process artifacts or results after pipeline completion

### Configuration

- **Project Slug**: CircleCI project slug (e.g., gh/username/repo)

### Event Data

Each workflow completion event includes:
- **workflow**: Workflow information including ID, name, status, and URL
- **pipeline**: Pipeline information including ID, number, and trigger details
- **project**: Project information
- **organization**: Organization information

### Webhook Setup

This trigger automatically sets up a CircleCI webhook when configured. The webhook is managed by SuperPlane and will be cleaned up when the trigger is removed.

### Example Data

```json
{
  "type": "workflow-completed",
  "id": "3888f21b-eaa7-38e3-8f3d-75a63bba8895",
  "happened_at": "2021-09-01T22:49:34.317Z",
  "webhook": {
    "id": "cf8c4fdd-0587-4da1-b4ca-4846e9640af9",
    "name": "SuperPlane Webhook"
  },
  "workflow": {
    "id": "fda08377-fe7e-46b1-8992-3a7aaecac9c3",
    "name": "build-test-deploy",
    "created_at": "2021-09-01T22:49:03.616Z",
    "stopped_at": "2021-09-01T22:49:34.170Z",
    "url": "https://app.circleci.com/pipelines/github/username/repo/130/workflows/fda08377-fe7e-46b1-8992-3a7aaecac9c3",
    "status": "success"
  },
  "pipeline": {
    "id": "1285fe1d-d3a6-44fc-8886-8979558254c4",
    "number": 130,
    "created_at": "2021-09-01T22:49:03.544Z",
    "trigger": {
      "type": "webhook"
    },
    "vcs": {
      "provider_name": "github",
      "origin_repository_url": "https://github.com/username/repo",
      "target_repository_url": "https://github.com/username/repo",
      "revision": "1dc6aa69429bff4806ad6afe58d3d8f57e25973e",
      "branch": "main"
    }
  },
  "project": {
    "id": "84996744-a854-4f5e-aea3-04e2851dc1d2",
    "name": "repo",
    "slug": "github/username/repo"
  },
  "organization": {
    "id": "f22b6566-597d-46d5-ba74-99ef5bb3d85c",
    "name": "username"
  }
}
```

<a id="trigger-pipeline"></a>

## Trigger Pipeline

The Trigger Pipeline component starts a CircleCI pipeline and waits for it to complete.

### Use Cases

- **CI/CD orchestration**: Trigger builds and deployments from SuperPlane workflows
- **Pipeline automation**: Run CircleCI pipelines as part of workflow automation
- **Multi-stage deployments**: Coordinate complex deployment pipelines
- **Workflow chaining**: Chain multiple CircleCI workflows together

### How It Works

1. Triggers a CircleCI pipeline with the specified branch or tag and parameters
2. Waits for all workflows in the pipeline to complete (monitored via webhook and polling)
3. Routes execution based on workflow results:
   - **Success channel**: All workflows completed successfully
   - **Failed channel**: Any workflow failed or was cancelled

### Configuration

- **Project Slug**: CircleCI project slug (e.g., gh/username/repo)
- **Branch**: Git branch to run the pipeline on (optional)
- **Tag**: Git tag to run the pipeline on (optional)
- **Parameters**: Optional pipeline parameters as key-value pairs (supports expressions)

### Output Channels

- **Success**: Emitted when all workflows complete successfully
- **Failed**: Emitted when any workflow fails or is cancelled

### Notes

- The component automatically sets up webhook monitoring for workflow completion
- Falls back to polling if webhook doesn't arrive
- SuperPlane execution ID and canvas ID are automatically injected as pipeline parameters
- You must specify either a branch or a tag (or neither for default branch)

### Example Output

```json
{
  "pipeline": {
    "id": "1285fe1d-d3a6-44fc-8886-8979558254c4",
    "number": 130,
    "created_at": "2021-09-01T22:49:03.544Z"
  },
  "workflows": [
    {
      "id": "fda08377-fe7e-46b1-8992-3a7aaecac9c3",
      "name": "build-test-deploy",
      "status": "success"
    }
  ]
}
```
