---
title: "Sentry"
---

Trigger workflows from Sentry issue events and update issues from workflows

## Triggers

<CardGrid>
  <LinkCard title="On Issue Event" href="#on-issue-event" description="Start a workflow when Sentry sends issue events (created, resolved, assigned, etc.)" />
</CardGrid>

import { CardGrid, LinkCard } from "@astrojs/starlight/components";

## Actions

<CardGrid>
  <LinkCard title="Update Issue" href="#update-issue" description="Update a Sentry issue (resolve, assign, ignore, etc.)" />
</CardGrid>

## Instructions

**Connection (Auth Token):** Use a **Personal Auth Token** from Sentry. In Sentry go to **User Settings** → **Auth Tokens** → **Create New Token** and grant `org:read`, `project:read`, `event:write`. The token will start with `sntryu_`—paste it into SuperPlane's Sentry connection form. The Personal Auth Token is used only for API calls (connection check and Update Issue); it does **not** provide a webhook URL or Client Secret.

**Webhooks (On Issue Event only):** Sentry sends webhooks from an **Internal Integration**, not from your Personal Auth Token. Create an Internal Integration in Sentry (Organization Settings → Developer Settings) to get a **webhook URL** and a **Client Secret**. In that integration, add the webhook URL that SuperPlane shows for the trigger, subscribe to Issue events, and paste the **Client Secret** into the trigger's "Webhook secret" field in SuperPlane. Do **not** paste the Client Secret (the long hex string) into the connection Auth Token field—Sentry's API returns **401 Invalid token** for it.

**Linking the integration to nodes:** For both the **On Issue Event** trigger and the **Update Issue** component, select your **Sentry** integration in the **Integration** dropdown in the configuration panel, then click **Save** (in the panel or the canvas Save button). Until you save, the node has no integration linked and you will see "Component not configured - integration is required".

## Troubleshooting

| Issue | What to do |
|-------|------------|
| **401 Invalid token** when connecting | You likely pasted the Internal Integration **Client Secret** (hex string). Use a **Personal Auth Token** (`sntryu_...`) from User Settings → Auth Tokens for the connection instead. |
| **Component not configured - integration is required** | The node has no integration linked. For **each** Sentry trigger and Sentry action node: open the node, select **Sentry** (your installation) in the **Integration** dropdown, then click **Save**. Save the canvas if needed. The link is only stored when you save. |
| **Webhook secret required** | The On Issue Event trigger needs the Client Secret to verify webhooks. Paste the **Client Secret** from your Sentry Internal Integration into the trigger's "Webhook secret" field (not into the connection Auth Token field). |
| **Webhook URL not reachable by Sentry** | Set `WEBHOOKS_BASE_URL` to the public URL Sentry can reach (see [Webhook URL and WEBHOOKS_BASE_URL](#webhook-url-and-webhooks_base_url)). Restart the app, save the canvas, then use the resulting webhook URL in Sentry. |

<a id="on-issue-event"></a>

## On Issue Event

The On Issue Event trigger runs when Sentry sends webhook events for issues.

### Use Cases

- **Notify on new issues**: Send Slack/Discord messages or create Jira tickets when an issue is created
- **Resolve after deploy**: When an issue is resolved in Sentry, run follow-up steps
- **Assign or triage**: React to assigned or archived events

### Configuration

- **Events**: Choose which issue actions to listen for (created, resolved, assigned, archived, unresolved)
- **Webhook secret** (required): Paste the Client Secret from your Sentry Internal Integration. SuperPlane uses it to verify that each webhook request really came from Sentry (HMAC signature). Sentry does not send webhooks without a URL and secret configured, so this field is required for the trigger to work.

### Setup

1. In Sentry: add a webhook URL in your Internal Integration (Developer Settings → your integration → Webhooks). Use the webhook URL shown for this trigger in SuperPlane (the base is controlled by `WEBHOOKS_BASE_URL`—see [Webhook URL and WEBHOOKS_BASE_URL](#webhook-url-and-webhooks_base_url)).
2. Subscribe to **Issue** events (e.g. issue.created, issue.resolved).
3. Copy the integration's **Client Secret** into the "Webhook secret" field in SuperPlane.
4. Select **Sentry** in the trigger's **Integration** dropdown and click **Save** (panel or canvas); otherwise you will see "Component not configured - integration is required".

<a id="webhook-url-and-webhooks_base_url"></a>

### Webhook URL and WEBHOOKS_BASE_URL

The webhook URL that Sentry must call is built from **WEBHOOKS_BASE_URL**: the URL is `WEBHOOKS_BASE_URL` + `/api/v1/webhooks/` + &lt;webhook-id&gt;. Sentry must be able to reach this URL over the internet.

**How to set WEBHOOKS_BASE_URL**

- **Docker / docker-compose:** The app often already has `WEBHOOKS_BASE_URL` in the compose file with a default (e.g. `WEBHOOKS_BASE_URL: ${WEBHOOKS_BASE_URL:-http://localhost:8000}`). To use a public or tunnel URL, set the variable in your `.env` file (e.g. `WEBHOOKS_BASE_URL=https://your-public-hostname` or your tunnel URL). Restart the app after changing it.
- **Production:** Set it to your public API base URL in your deployment environment (e.g. Kubernetes, host env, or `.env`).
- **Local development with a tunnel:** Set `WEBHOOKS_BASE_URL` to the tunnel’s public URL in `.env` (or when running `make dev.start`). Restart the app, save the canvas, then use the resulting webhook URL in Sentry.

### Example Data

```json
{
  "action": "created",
  "actor": {
    "id": "example-app",
    "name": "Example App",
    "type": "application"
  },
  "installation": {
    "uuid": "24b397fc-a86e-43ef-9297-949e21b82480"
  },
  "issue": {
    "culprit": "raven.scripts.runner in main",
    "firstSeen": "2025-11-10T20:56:00.679000+00:00",
    "id": "1234567890",
    "lastSeen": "2025-11-10T20:56:00.738000+00:00",
    "level": "error",
    "metadata": {
      "title": "Error: example exception"
    },
    "permalink": "https://example-org.sentry.io/issues/1234567890/",
    "project": {
      "id": "112313123123134",
      "name": "python",
      "slug": "python"
    },
    "shortId": "PYTHON-Y",
    "status": "unresolved",
    "title": "Error: example exception"
  }
}
```

<a id="update-issue"></a>

## Update Issue

The Update Issue component updates an existing Sentry issue.

### Use Cases

- **Resolve after deploy**: Resolve the issue when a fix is deployed
- **Assignment**: Assign the issue to a user or team from a workflow
- **Ignore**: Ignore or archive issues based on workflow logic

### Configuration

- **Organization**: Sentry organization slug (e.g. from trigger payload or your org name). Use the exact slug (e.g. `my-org`), not a typo (e.g. `my-rog`).
- **Issue ID**: The issue ID to update (e.g. from trigger: `$['On Issue Event'].issue.id`)
- **Status**: resolved, resolvedInNextRelease, unresolved, or ignored
- **Assigned To**: Actor id or username to assign the issue to

### Testing Update Issue

1. Ensure the Sentry connection is **Ready** (Personal Auth Token, `sntryu_...`).
2. In the **Update Issue** component, set **Organization** (your Sentry org slug), **Issue ID** (e.g. a real issue id or `{{ $['On Issue Event'].issue.id }}` from the trigger), and **Status** or **Assigned To**.
3. Click **Save** on the configuration panel so the component is fully configured.
4. Run the workflow: either wait for the **On Issue Event** trigger to fire, or use a manual/test run if your setup supports it. The Update Issue step will call Sentry's API and the issue will be updated.

### Output

Returns the updated issue object from Sentry.

### Example Output

```json
{
  "data": {
    "id": "1234567890",
    "permalink": "https://example-org.sentry.io/issues/1234567890/",
    "project": {
      "id": "112313123123134",
      "name": "python",
      "slug": "python"
    },
    "shortId": "PYTHON-Y",
    "status": "resolved",
    "title": "Error: example exception"
  },
  "timestamp": "2026-02-07T12:00:00Z",
  "type": "sentry.issue"
}
```

