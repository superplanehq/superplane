
2026/02/05 22:17:36 [35m/app/pkg/database/connection.go:73
[0m[31m[error] [0mfailed to initialize database, got error failed to connect to `host=port= user=password= database=sslmode=disable`: hostname resolving error (lookup port=: no such host)
--- FAIL: TestHandler_findOrCreateAccountForProvider (0.00s)
    --- FAIL: TestHandler_findOrCreateAccountForProvider/should_find_existing_account_by_provider_and_update_email_when_changed (0.00s)
panic: failed to connect to `host=port= user=password= database=sslmode=disable`: hostname resolving error (lookup port=: no such host) [recovered, repanicked]

goroutine 35 [running]:
testing.tRunner.func1.2({0x1234780, 0xc000121dd0})
	/home/jules/go/pkg/mod/golang.org/toolchain@v0.0.1-go1.25.0.linux-amd64/src/testing/testing.go:1872 +0x237
testing.tRunner.func1()
	/home/jules/go/pkg/mod/golang.org/toolchain@v0.0.1-go1.25.0.linux-amd64/src/testing/testing.go:1875 +0x35b
panic({0x1234780?, 0xc000121dd0?})
	/home/jules/go/pkg/mod/golang.org/toolchain@v0.0.1-go1.25.0.linux-amd64/src/runtime/panic.go:783 +0x132
github.com/superplanehq/superplane/pkg/database.connect()
	/app/pkg/database/connection.go:75 +0x671
github.com/superplanehq/superplane/pkg/database.Conn()
	/app/pkg/database/connection.go:29 +0x25
github.com/superplanehq/superplane/pkg/database.TruncateTables()
	/app/pkg/database/connection.go:91 +0x13
github.com/superplanehq/superplane/test/support.SetupWithOptions(0xc0001028c0, {0xd8?, 0x44?, 0x486abc?})
	/app/test/support/support.go:66 +0x2a
github.com/superplanehq/superplane/test/support.Setup(...)
	/app/test/support/support.go:58
github.com/superplanehq/superplane/pkg/authentication.setupAuthHandler(0xc0001028c0, 0x0)
	/app/pkg/authentication/authentication_test.go:17 +0x2d
github.com/superplanehq/superplane/pkg/authentication.TestHandler_findOrCreateAccountForProvider.func1(0xc0001028c0)
	/app/pkg/authentication/authentication_test.go:27 +0x2c
testing.tRunner(0xc0001028c0, 0x148afc8)
	/home/jules/go/pkg/mod/golang.org/toolchain@v0.0.1-go1.25.0.linux-amd64/src/testing/testing.go:1934 +0xea
created by testing.(*T).Run in goroutine 34
	/home/jules/go/pkg/mod/golang.org/toolchain@v0.0.1-go1.25.0.linux-amd64/src/testing/testing.go:1997 +0x465
FAIL	github.com/superplanehq/superplane/pkg/authentication	0.042s
# github.com/superplanehq/superplane/pkg/workers/contexts
pkg/workers/contexts/integration_subscription_context.go:75:22: undefined: NewHTTPContext
pkg/workers/contexts/integration_subscription_context.go:75:48: c.registry.GetHTTPClient undefined (type *registry.Registry has no field or method GetHTTPClient)
pkg/workers/contexts/integration_subscription_context.go:101:19: undefined: NewHTTPContext
pkg/workers/contexts/integration_subscription_context.go:101:45: c.registry.GetHTTPClient undefined (type *registry.Registry has no field or method GetHTTPClient)
pkg/workers/contexts/integration_subscription_context.go:129:22: undefined: NewHTTPContext
pkg/workers/contexts/integration_subscription_context.go:129:48: c.registry.GetHTTPClient undefined (type *registry.Registry has no field or method GetHTTPClient)

2026/02/05 22:17:37 [35m/app/pkg/database/connection.go:73
[0m[31m[error] [0mfailed to initialize database, got error failed to connect to `host=port= user=password= database=sslmode=disable`: hostname resolving error (lookup port=: no such host)
--- FAIL: Test__AuthService_BasicPermissions (0.00s)
panic: failed to connect to `host=port= user=password= database=sslmode=disable`: hostname resolving error (lookup port=: no such host) [recovered, repanicked]

goroutine 8 [running]:
testing.tRunner.func1.2({0x1222fc0, 0xc0002d9e30})
	/home/jules/go/pkg/mod/golang.org/toolchain@v0.0.1-go1.25.0.linux-amd64/src/testing/testing.go:1872 +0x237
testing.tRunner.func1()
	/home/jules/go/pkg/mod/golang.org/toolchain@v0.0.1-go1.25.0.linux-amd64/src/testing/testing.go:1875 +0x35b
panic({0x1222fc0?, 0xc0002d9e30?})
	/home/jules/go/pkg/mod/golang.org/toolchain@v0.0.1-go1.25.0.linux-amd64/src/runtime/panic.go:783 +0x132
github.com/superplanehq/superplane/pkg/database.connect()
	/app/pkg/database/connection.go:75 +0x671
github.com/superplanehq/superplane/pkg/database.Conn()
	/app/pkg/database/connection.go:29 +0x25
github.com/superplanehq/superplane/pkg/database.TruncateTables()
	/app/pkg/database/connection.go:91 +0x13
github.com/superplanehq/superplane/test/support.SetupWithOptions(0xc0000bea80, {0x24?, 0xbf?, 0x5e?})
	/app/test/support/support.go:66 +0x2a
github.com/superplanehq/superplane/test/support.Setup(...)
	/app/test/support/support.go:58
github.com/superplanehq/superplane/pkg/authorization_test.Test__AuthService_BasicPermissions(0xc0000bea80)
	/app/pkg/authorization/service_test.go:14 +0x2c
testing.tRunner(0xc0000bea80, 0x1475950)
	/home/jules/go/pkg/mod/golang.org/toolchain@v0.0.1-go1.25.0.linux-amd64/src/testing/testing.go:1934 +0xea
created by testing.(*T).Run in goroutine 1
	/home/jules/go/pkg/mod/golang.org/toolchain@v0.0.1-go1.25.0.linux-amd64/src/testing/testing.go:1997 +0x465
FAIL	github.com/superplanehq/superplane/pkg/authorization	0.029s
ok  	github.com/superplanehq/superplane/pkg/cli	0.013s
?   	github.com/superplanehq/superplane/pkg/cli/models	[no test files]
FAIL	github.com/superplanehq/superplane/pkg/components/approval [build failed]
ok  	github.com/superplanehq/superplane/pkg/components/filter	0.007s
ok  	github.com/superplanehq/superplane/pkg/components/http	0.080s
ok  	github.com/superplanehq/superplane/pkg/components/if	0.013s
FAIL	github.com/superplanehq/superplane/pkg/components/merge [build failed]
ok  	github.com/superplanehq/superplane/pkg/components/noop	0.015s
ok  	github.com/superplanehq/superplane/pkg/components/ssh	0.006s
ok  	github.com/superplanehq/superplane/pkg/components/timegate	0.006s
ok  	github.com/superplanehq/superplane/pkg/components/wait	0.007s
?   	github.com/superplanehq/superplane/pkg/config	[no test files]
ok  	github.com/superplanehq/superplane/pkg/configuration	0.007s
?   	github.com/superplanehq/superplane/pkg/core	[no test files]
ok  	github.com/superplanehq/superplane/pkg/crypto	0.012s
?   	github.com/superplanehq/superplane/pkg/database	[no test files]
FAIL	github.com/superplanehq/superplane/pkg/grpc [build failed]
ok  	github.com/superplanehq/superplane/pkg/grpc/actions	0.012s
FAIL	github.com/superplanehq/superplane/pkg/grpc/actions/auth [build failed]
?   	github.com/superplanehq/superplane/pkg/grpc/actions/blueprints	[no test files]
FAIL	github.com/superplanehq/superplane/pkg/grpc/actions/canvases [build failed]
?   	github.com/superplanehq/superplane/pkg/grpc/actions/components	[no test files]
?   	github.com/superplanehq/superplane/pkg/grpc/actions/integrations	[no test files]
?   	github.com/superplanehq/superplane/pkg/grpc/actions/me	[no test files]
?   	github.com/superplanehq/superplane/pkg/grpc/actions/messages	[no test files]
FAIL	github.com/superplanehq/superplane/pkg/grpc/actions/organizations [build failed]

2026/02/05 22:17:42 [35m/app/pkg/database/connection.go:73
[0m[31m[error] [0mfailed to initialize database, got error failed to connect to `host=port= user=password= database=sslmode=disable`: hostname resolving error (lookup port=: no such host)
--- FAIL: Test__CreateSecret (0.00s)
panic: failed to connect to `host=port= user=password= database=sslmode=disable`: hostname resolving error (lookup port=: no such host) [recovered, repanicked]

goroutine 8 [running]:
testing.tRunner.func1.2({0x122bd80, 0xc00037a180})
	/home/jules/go/pkg/mod/golang.org/toolchain@v0.0.1-go1.25.0.linux-amd64/src/testing/testing.go:1872 +0x237
testing.tRunner.func1()
	/home/jules/go/pkg/mod/golang.org/toolchain@v0.0.1-go1.25.0.linux-amd64/src/testing/testing.go:1875 +0x35b
panic({0x122bd80?, 0xc00037a180?})
	/home/jules/go/pkg/mod/golang.org/toolchain@v0.0.1-go1.25.0.linux-amd64/src/runtime/panic.go:783 +0x132
github.com/superplanehq/superplane/pkg/database.connect()
	/app/pkg/database/connection.go:75 +0x671
github.com/superplanehq/superplane/pkg/database.Conn()
	/app/pkg/database/connection.go:29 +0x25
github.com/superplanehq/superplane/pkg/database.TruncateTables()
	/app/pkg/database/connection.go:91 +0x13
github.com/superplanehq/superplane/test/support.SetupWithOptions(0xc0000c0a80, {0x84?, 0x30?, 0x5e?})
	/app/test/support/support.go:66 +0x2a
github.com/superplanehq/superplane/pkg/grpc/actions/secrets.Test__CreateSecret(0xc0000c0a80)
	/app/pkg/grpc/actions/secrets/create_secret_test.go:21 +0x25
testing.tRunner(0xc0000c0a80, 0x14876e0)
	/home/jules/go/pkg/mod/golang.org/toolchain@v0.0.1-go1.25.0.linux-amd64/src/testing/testing.go:1934 +0xea
created by testing.(*T).Run in goroutine 1
	/home/jules/go/pkg/mod/golang.org/toolchain@v0.0.1-go1.25.0.linux-amd64/src/testing/testing.go:1997 +0x465
FAIL	github.com/superplanehq/superplane/pkg/grpc/actions/secrets	0.018s
?   	github.com/superplanehq/superplane/pkg/grpc/actions/triggers	[no test files]
?   	github.com/superplanehq/superplane/pkg/grpc/actions/widgets	[no test files]
ok  	github.com/superplanehq/superplane/pkg/integrations/aws	0.016s
?   	github.com/superplanehq/superplane/pkg/integrations/aws/codeartifact	[no test files]
ok  	github.com/superplanehq/superplane/pkg/integrations/aws/common	0.006s
ok  	github.com/superplanehq/superplane/pkg/integrations/aws/ecr	0.010s
?   	github.com/superplanehq/superplane/pkg/integrations/aws/eventbridge	[no test files]
?   	github.com/superplanehq/superplane/pkg/integrations/aws/iam	[no test files]
ok  	github.com/superplanehq/superplane/pkg/integrations/aws/lambda	0.013s
ok  	github.com/superplanehq/superplane/pkg/integrations/cloudflare	0.014s
ok  	github.com/superplanehq/superplane/pkg/integrations/dash0	0.022s
ok  	github.com/superplanehq/superplane/pkg/integrations/datadog	0.007s
ok  	github.com/superplanehq/superplane/pkg/integrations/daytona	0.013s
ok  	github.com/superplanehq/superplane/pkg/integrations/discord	0.010s
ok  	github.com/superplanehq/superplane/pkg/integrations/github	0.024s
ok  	github.com/superplanehq/superplane/pkg/integrations/jira	0.009s
?   	github.com/superplanehq/superplane/pkg/integrations/openai	[no test files]
ok  	github.com/superplanehq/superplane/pkg/integrations/pagerduty	0.023s
ok  	github.com/superplanehq/superplane/pkg/integrations/rootly	0.021s
ok  	github.com/superplanehq/superplane/pkg/integrations/semaphore	0.015s
ok  	github.com/superplanehq/superplane/pkg/integrations/sendgrid	0.012s
ok  	github.com/superplanehq/superplane/pkg/integrations/slack	0.010s
ok  	github.com/superplanehq/superplane/pkg/integrations/smtp	0.007s
?   	github.com/superplanehq/superplane/pkg/jwt	[no test files]
?   	github.com/superplanehq/superplane/pkg/logging	[no test files]

2026/02/05 22:17:48 [35m/app/pkg/database/connection.go:73
[0m[31m[error] [0mfailed to initialize database, got error failed to connect to `host=port= user=password= database=sslmode=disable`: hostname resolving error (lookup port=: no such host)
--- FAIL: TestFindAccountByProvider (0.00s)
panic: failed to connect to `host=port= user=password= database=sslmode=disable`: hostname resolving error (lookup port=: no such host) [recovered, repanicked]

goroutine 8 [running]:
testing.tRunner.func1.2({0x9973e0, 0xc000291d40})
	/home/jules/go/pkg/mod/golang.org/toolchain@v0.0.1-go1.25.0.linux-amd64/src/testing/testing.go:1872 +0x237
testing.tRunner.func1()
	/home/jules/go/pkg/mod/golang.org/toolchain@v0.0.1-go1.25.0.linux-amd64/src/testing/testing.go:1875 +0x35b
panic({0x9973e0?, 0xc000291d40?})
	/home/jules/go/pkg/mod/golang.org/toolchain@v0.0.1-go1.25.0.linux-amd64/src/runtime/panic.go:783 +0x132
github.com/superplanehq/superplane/pkg/database.connect()
	/app/pkg/database/connection.go:75 +0x671
github.com/superplanehq/superplane/pkg/database.Conn()
	/app/pkg/database/connection.go:29 +0x25
github.com/superplanehq/superplane/pkg/database.TruncateTables()
	/app/pkg/database/connection.go:91 +0x13
github.com/superplanehq/superplane/pkg/models.TestFindAccountByProvider(0xc0000b08c0)
	/app/pkg/models/account_test.go:14 +0x1c
testing.tRunner(0xc0000b08c0, 0xa759c0)
	/home/jules/go/pkg/mod/golang.org/toolchain@v0.0.1-go1.25.0.linux-amd64/src/testing/testing.go:1934 +0xea
created by testing.(*T).Run in goroutine 1
	/home/jules/go/pkg/mod/golang.org/toolchain@v0.0.1-go1.25.0.linux-amd64/src/testing/testing.go:1997 +0x465
FAIL	github.com/superplanehq/superplane/pkg/models	0.020s
ok  	github.com/superplanehq/superplane/pkg/oidc	0.375s
?   	github.com/superplanehq/superplane/pkg/openapi_client	[no test files]
?   	github.com/superplanehq/superplane/pkg/protos/authorization	[no test files]
?   	github.com/superplanehq/superplane/pkg/protos/blueprints	[no test files]
?   	github.com/superplanehq/superplane/pkg/protos/canvases	[no test files]
?   	github.com/superplanehq/superplane/pkg/protos/components	[no test files]
?   	github.com/superplanehq/superplane/pkg/protos/configuration	[no test files]
?   	github.com/superplanehq/superplane/pkg/protos/groups	[no test files]
?   	github.com/superplanehq/superplane/pkg/protos/integrations	[no test files]
?   	github.com/superplanehq/superplane/pkg/protos/me	[no test files]
?   	github.com/superplanehq/superplane/pkg/protos/organizations	[no test files]
?   	github.com/superplanehq/superplane/pkg/protos/roles	[no test files]
?   	github.com/superplanehq/superplane/pkg/protos/secrets	[no test files]
?   	github.com/superplanehq/superplane/pkg/protos/triggers	[no test files]
?   	github.com/superplanehq/superplane/pkg/protos/users	[no test files]
?   	github.com/superplanehq/superplane/pkg/protos/widgets	[no test files]
FAIL	github.com/superplanehq/superplane/pkg/public [build failed]
?   	github.com/superplanehq/superplane/pkg/public/middleware	[no test files]
?   	github.com/superplanehq/superplane/pkg/public/ws	[no test files]
# github.com/superplanehq/superplane/pkg/workers/contexts [github.com/superplanehq/superplane/pkg/registry.test]
pkg/workers/contexts/integration_subscription_context.go:75:22: undefined: NewHTTPContext
pkg/workers/contexts/integration_subscription_context.go:75:48: c.registry.GetHTTPClient undefined (type *registry.Registry has no field or method GetHTTPClient)
pkg/workers/contexts/integration_subscription_context.go:101:19: undefined: NewHTTPContext
pkg/workers/contexts/integration_subscription_context.go:101:45: c.registry.GetHTTPClient undefined (type *registry.Registry has no field or method GetHTTPClient)
pkg/workers/contexts/integration_subscription_context.go:129:22: undefined: NewHTTPContext
pkg/workers/contexts/integration_subscription_context.go:129:48: c.registry.GetHTTPClient undefined (type *registry.Registry has no field or method GetHTTPClient)
FAIL	github.com/superplanehq/superplane/pkg/registry [build failed]
?   	github.com/superplanehq/superplane/pkg/retry	[no test files]
?   	github.com/superplanehq/superplane/pkg/secrets	[no test files]
FAIL	github.com/superplanehq/superplane/pkg/server [build failed]
ok  	github.com/superplanehq/superplane/pkg/services	0.010s

2026/02/05 22:17:54 [35m/app/pkg/database/connection.go:73
[0m[31m[error] [0mfailed to initialize database, got error failed to connect to `host=port= user=password= database=sslmode=disable`: hostname resolving error (lookup port=: no such host)
--- FAIL: TestCountStuckQueueNodes_NodeWithQueueAndNoExecutionsIsCounted (0.00s)
panic: failed to connect to `host=port= user=password= database=sslmode=disable`: hostname resolving error (lookup port=: no such host) [recovered, repanicked]

goroutine 21 [running]:
testing.tRunner.func1.2({0xda11a0, 0xc0002b4b70})
	/home/jules/go/pkg/mod/golang.org/toolchain@v0.0.1-go1.25.0.linux-amd64/src/testing/testing.go:1872 +0x237
testing.tRunner.func1()
	/home/jules/go/pkg/mod/golang.org/toolchain@v0.0.1-go1.25.0.linux-amd64/src/testing/testing.go:1875 +0x35b
panic({0xda11a0?, 0xc0002b4b70?})
	/home/jules/go/pkg/mod/golang.org/toolchain@v0.0.1-go1.25.0.linux-amd64/src/runtime/panic.go:783 +0x132
github.com/superplanehq/superplane/pkg/database.connect()
	/app/pkg/database/connection.go:75 +0x671
github.com/superplanehq/superplane/pkg/database.Conn()
	/app/pkg/database/connection.go:29 +0x25
github.com/superplanehq/superplane/pkg/database.TruncateTables()
	/app/pkg/database/connection.go:91 +0x13
github.com/superplanehq/superplane/pkg/telemetry.TestCountStuckQueueNodes_NodeWithQueueAndNoExecutionsIsCounted(0xc000103180)
	/app/pkg/telemetry/periodic_test.go:14 +0x1f
testing.tRunner(0xc000103180, 0xf19278)
	/home/jules/go/pkg/mod/golang.org/toolchain@v0.0.1-go1.25.0.linux-amd64/src/testing/testing.go:1934 +0xea
created by testing.(*T).Run in goroutine 1
	/home/jules/go/pkg/mod/golang.org/toolchain@v0.0.1-go1.25.0.linux-amd64/src/testing/testing.go:1997 +0x465
FAIL	github.com/superplanehq/superplane/pkg/telemetry	0.018s
FAIL	github.com/superplanehq/superplane/pkg/templates [build failed]
ok  	github.com/superplanehq/superplane/pkg/triggers/schedule	0.008s
?   	github.com/superplanehq/superplane/pkg/triggers/start	[no test files]
ok  	github.com/superplanehq/superplane/pkg/triggers/webhook	0.006s
ok  	github.com/superplanehq/superplane/pkg/utils	0.007s
?   	github.com/superplanehq/superplane/pkg/web	[no test files]
?   	github.com/superplanehq/superplane/pkg/web/assets	[no test files]
?   	github.com/superplanehq/superplane/pkg/widgets/annotation	[no test files]
FAIL	github.com/superplanehq/superplane/pkg/workers [build failed]
FAIL	github.com/superplanehq/superplane/pkg/workers/contexts [build failed]
FAIL	github.com/superplanehq/superplane/pkg/workers/eventdistributer [build failed]
FAIL
