{
  "swagger": "2.0",
  "info": {
    "title": "Superplane API",
    "description": "API for the Superplane service",
    "version": "1.0",
    "contact": {
      "name": "API Support",
      "email": "support@superplane.com"
    }
  },
  "tags": [
    {
      "name": "Superplane"
    },
    {
      "name": "Authorization"
    }
  ],
  "schemes": [
    "http",
    "https"
  ],
  "consumes": [
    "application/json"
  ],
  "produces": [
    "application/json"
  ],
  "paths": {
    "/api/v1/authorization/canvases/accessible/{userId}": {
      "get": {
        "summary": "List accessible canvases",
        "description": "Returns a list of canvases the user has access to",
        "operationId": "Authorization_ListAccessibleCanvases",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/AuthorizationListAccessibleCanvasesResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "userId",
            "in": "path",
            "required": true,
            "type": "string"
          }
        ],
        "tags": [
          "Canvas"
        ]
      }
    },
    "/api/v1/authorization/canvases/{canvasId}/roles/{role}/users": {
      "get": {
        "summary": "List canvas users for role",
        "description": "Returns users that have a specific role within a canvas",
        "operationId": "Authorization_ListCanvasUsersForRole",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/AuthorizationListCanvasUsersForRoleResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "canvasId",
            "in": "path",
            "required": true,
            "type": "string"
          },
          {
            "name": "role",
            "in": "path",
            "required": true,
            "type": "string",
            "enum": [
              "CANVAS_ROLE_UNSPECIFIED",
              "CANVAS_VIEWER",
              "CANVAS_ADMIN",
              "CANVAS_OWNER"
            ]
          }
        ],
        "tags": [
          "Canvas"
        ]
      }
    },
    "/api/v1/authorization/check": {
      "post": {
        "summary": "Check permission",
        "description": "Checks if a user has permission to perform an action on a resource within a domain",
        "operationId": "Authorization_CheckPermission",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/AuthorizationCheckPermissionResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/AuthorizationCheckPermissionRequest"
            }
          }
        ],
        "tags": [
          "Authorization"
        ]
      }
    },
    "/api/v1/authorization/organizations/accessible/{userId}": {
      "get": {
        "summary": "List accessible organizations",
        "description": "Returns a list of organizations the user has access to",
        "operationId": "Authorization_ListAccessibleOrganizations",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/AuthorizationListAccessibleOrganizationsResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "userId",
            "in": "path",
            "required": true,
            "type": "string"
          }
        ],
        "tags": [
          "Organization"
        ]
      }
    },
    "/api/v1/authorization/organizations/{orgId}/groups": {
      "get": {
        "summary": "List organization groups",
        "description": "Returns a list of groups within an organization",
        "operationId": "Authorization_ListOrganizationGroups",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/AuthorizationListOrganizationGroupsResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "orgId",
            "in": "path",
            "required": true,
            "type": "string"
          }
        ],
        "tags": [
          "Group"
        ]
      },
      "post": {
        "summary": "Create group",
        "description": "Creates a new group within an organization with a specific role",
        "operationId": "Authorization_CreateGroup",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/AuthorizationCreateGroupResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "orgId",
            "in": "path",
            "required": true,
            "type": "string"
          },
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/AuthorizationCreateGroupBody"
            }
          }
        ],
        "tags": [
          "Group"
        ]
      }
    },
    "/api/v1/authorization/organizations/{orgId}/groups/{groupName}/users": {
      "get": {
        "summary": "Get group users",
        "description": "Returns users that belong to a specific group",
        "operationId": "Authorization_GetGroupUsers",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/AuthorizationGetGroupUsersResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "orgId",
            "in": "path",
            "required": true,
            "type": "string"
          },
          {
            "name": "groupName",
            "in": "path",
            "required": true,
            "type": "string"
          }
        ],
        "tags": [
          "Group"
        ]
      },
      "post": {
        "summary": "Add user to group",
        "description": "Adds a user to an organization group",
        "operationId": "Authorization_AddUserToGroup",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/AuthorizationAddUserToGroupResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "orgId",
            "in": "path",
            "required": true,
            "type": "string"
          },
          {
            "name": "groupName",
            "in": "path",
            "required": true,
            "type": "string"
          },
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/AuthorizationAddUserToGroupBody"
            }
          }
        ],
        "tags": [
          "Group"
        ]
      }
    },
    "/api/v1/authorization/organizations/{orgId}/groups/{groupName}/users/{userId}": {
      "delete": {
        "summary": "Remove user from group",
        "description": "Removes a user from an organization group",
        "operationId": "Authorization_RemoveUserFromGroup",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/AuthorizationRemoveUserFromGroupResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "orgId",
            "in": "path",
            "required": true,
            "type": "string"
          },
          {
            "name": "groupName",
            "in": "path",
            "required": true,
            "type": "string"
          },
          {
            "name": "userId",
            "in": "path",
            "required": true,
            "type": "string"
          }
        ],
        "tags": [
          "Group"
        ]
      }
    },
    "/api/v1/authorization/organizations/{orgId}/roles/{role}/users": {
      "get": {
        "summary": "List organization users for role",
        "description": "Returns users that have a specific role within an organization",
        "operationId": "Authorization_ListOrganizationUsersForRole",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/AuthorizationListOrganizationUsersForRoleResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "orgId",
            "in": "path",
            "required": true,
            "type": "string"
          },
          {
            "name": "role",
            "in": "path",
            "required": true,
            "type": "string",
            "enum": [
              "ORG_ROLE_UNSPECIFIED",
              "ORG_VIEWER",
              "ORG_ADMIN",
              "ORG_OWNER"
            ]
          }
        ],
        "tags": [
          "Organization"
        ]
      }
    },
    "/api/v1/authorization/roles": {
      "get": {
        "summary": "List roles",
        "description": "Returns available roles for a specific domain type with their permissions and inheritance",
        "operationId": "Authorization_ListRoles",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/AuthorizationListRolesResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "domainType",
            "in": "query",
            "required": false,
            "type": "string",
            "enum": [
              "DOMAIN_TYPE_UNSPECIFIED",
              "DOMAIN_TYPE_ORGANIZATION",
              "DOMAIN_TYPE_CANVAS"
            ],
            "default": "DOMAIN_TYPE_UNSPECIFIED"
          },
          {
            "name": "domainId",
            "in": "query",
            "required": false,
            "type": "string"
          }
        ],
        "tags": [
          "Authorization"
        ]
      }
    },
    "/api/v1/authorization/roles/assign": {
      "post": {
        "summary": "Assign role",
        "description": "Assigns a role to a user within an organization or canvas",
        "operationId": "Authorization_AssignRole",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/AuthorizationAssignRoleResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/AuthorizationAssignRoleRequest"
            }
          }
        ],
        "tags": [
          "Authorization"
        ]
      }
    },
    "/api/v1/authorization/roles/describe": {
      "get": {
        "summary": "Describe role",
        "description": "Returns detailed information about a specific role including permissions and inheritance",
        "operationId": "Authorization_DescribeRole",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/AuthorizationDescribeRoleResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "domainType",
            "in": "query",
            "required": false,
            "type": "string",
            "enum": [
              "DOMAIN_TYPE_UNSPECIFIED",
              "DOMAIN_TYPE_ORGANIZATION",
              "DOMAIN_TYPE_CANVAS"
            ],
            "default": "DOMAIN_TYPE_UNSPECIFIED"
          },
          {
            "name": "domainId",
            "in": "query",
            "required": false,
            "type": "string"
          },
          {
            "name": "orgRole",
            "in": "query",
            "required": false,
            "type": "string",
            "enum": [
              "ORG_ROLE_UNSPECIFIED",
              "ORG_VIEWER",
              "ORG_ADMIN",
              "ORG_OWNER"
            ],
            "default": "ORG_ROLE_UNSPECIFIED"
          },
          {
            "name": "canvasRole",
            "in": "query",
            "required": false,
            "type": "string",
            "enum": [
              "CANVAS_ROLE_UNSPECIFIED",
              "CANVAS_VIEWER",
              "CANVAS_ADMIN",
              "CANVAS_OWNER"
            ],
            "default": "CANVAS_ROLE_UNSPECIFIED"
          }
        ],
        "tags": [
          "Authorization"
        ]
      }
    },
    "/api/v1/authorization/roles/remove": {
      "post": {
        "summary": "Remove role",
        "description": "Removes a role from a user within an organization or canvas",
        "operationId": "Authorization_RemoveRole",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/AuthorizationRemoveRoleResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/AuthorizationRemoveRoleRequest"
            }
          }
        ],
        "tags": [
          "Authorization"
        ]
      }
    },
    "/api/v1/authorization/users/{userId}/permissions": {
      "get": {
        "summary": "List user permissions",
        "description": "Returns all permissions a user has within a specific domain",
        "operationId": "Authorization_ListUserPermissions",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/AuthorizationListUserPermissionsResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "userId",
            "in": "path",
            "required": true,
            "type": "string"
          },
          {
            "name": "domainType",
            "in": "query",
            "required": false,
            "type": "string",
            "enum": [
              "DOMAIN_TYPE_UNSPECIFIED",
              "DOMAIN_TYPE_ORGANIZATION",
              "DOMAIN_TYPE_CANVAS"
            ],
            "default": "DOMAIN_TYPE_UNSPECIFIED"
          },
          {
            "name": "domainId",
            "in": "query",
            "required": false,
            "type": "string"
          }
        ],
        "tags": [
          "Authorization"
        ]
      }
    },
    "/api/v1/authorization/users/{userId}/roles": {
      "get": {
        "summary": "Get user roles",
        "description": "Returns the roles a user has within a specific domain",
        "operationId": "Authorization_GetUserRoles",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/AuthorizationGetUserRolesResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "userId",
            "in": "path",
            "required": true,
            "type": "string"
          },
          {
            "name": "domainType",
            "in": "query",
            "required": false,
            "type": "string",
            "enum": [
              "DOMAIN_TYPE_UNSPECIFIED",
              "DOMAIN_TYPE_ORGANIZATION",
              "DOMAIN_TYPE_CANVAS"
            ],
            "default": "DOMAIN_TYPE_UNSPECIFIED"
          },
          {
            "name": "domainId",
            "in": "query",
            "required": false,
            "type": "string"
          }
        ],
        "tags": [
          "Authorization"
        ]
      }
    },
    "/api/v1/canvases": {
      "get": {
        "summary": "List canvases",
        "description": "Returns a list of all canvases",
        "operationId": "Superplane_ListCanvases",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/SuperplaneListCanvasesResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "tags": [
          "Canvas"
        ]
      },
      "post": {
        "summary": "Create a new canvas",
        "description": "Creates a new canvas with the given name and organization ID",
        "operationId": "Superplane_CreateCanvas",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/SuperplaneCreateCanvasResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/SuperplaneCreateCanvasRequest"
            }
          }
        ],
        "tags": [
          "Canvas"
        ]
      }
    },
    "/api/v1/canvases/{canvasIdOrName}/event-sources": {
      "get": {
        "summary": "List event sources",
        "description": "Returns a list of all event sources for the specified canvas (can be referenced by ID or name)",
        "operationId": "Superplane_ListEventSources",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/SuperplaneListEventSourcesResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "canvasIdOrName",
            "in": "path",
            "required": true,
            "type": "string"
          }
        ],
        "tags": [
          "EventSource"
        ]
      },
      "post": {
        "summary": "Create a new event source",
        "description": "Creates a new event source for the specified canvas (can be referenced by ID or name)",
        "operationId": "Superplane_CreateEventSource",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/SuperplaneCreateEventSourceResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "canvasIdOrName",
            "in": "path",
            "required": true,
            "type": "string"
          },
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/SuperplaneCreateEventSourceBody"
            }
          }
        ],
        "tags": [
          "EventSource"
        ]
      }
    },
    "/api/v1/canvases/{canvasIdOrName}/event-sources/{id}": {
      "get": {
        "summary": "Get event source details",
        "description": "Returns the details of a specific event source (canvas can be referenced by ID or name)",
        "operationId": "Superplane_DescribeEventSource",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/SuperplaneDescribeEventSourceResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "canvasIdOrName",
            "in": "path",
            "required": true,
            "type": "string"
          },
          {
            "name": "id",
            "in": "path",
            "required": true,
            "type": "string"
          },
          {
            "name": "name",
            "in": "query",
            "required": false,
            "type": "string"
          }
        ],
        "tags": [
          "EventSource"
        ]
      }
    },
    "/api/v1/canvases/{canvasIdOrName}/secrets": {
      "get": {
        "summary": "List secrets",
        "description": "Returns a list of all secrets for the specified canvas (can be referenced by ID or name)",
        "operationId": "Superplane_ListSecrets",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/SuperplaneListSecretsResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "canvasIdOrName",
            "in": "path",
            "required": true,
            "type": "string"
          }
        ],
        "tags": [
          "Secret"
        ]
      },
      "post": {
        "summary": "Create a new canvas secret",
        "description": "Creates a new canvas secret",
        "operationId": "Superplane_CreateSecret",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/SuperplaneCreateSecretResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "canvasIdOrName",
            "in": "path",
            "required": true,
            "type": "string"
          },
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/SuperplaneCreateSecretBody"
            }
          }
        ],
        "tags": [
          "Secret"
        ]
      }
    },
    "/api/v1/canvases/{canvasIdOrName}/secrets/{idOrName}": {
      "get": {
        "summary": "Get secret details",
        "description": "Returns the details of a specific secret (canvas can be referenced by ID or name)",
        "operationId": "Superplane_DescribeSecret",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/SuperplaneDescribeSecretResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "canvasIdOrName",
            "in": "path",
            "required": true,
            "type": "string"
          },
          {
            "name": "idOrName",
            "in": "path",
            "required": true,
            "type": "string"
          }
        ],
        "tags": [
          "Secret"
        ]
      },
      "delete": {
        "summary": "Deletes a canvas secret",
        "description": "Deletes the specified canvas secret",
        "operationId": "Superplane_DeleteSecret",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/SuperplaneDeleteSecretResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "canvasIdOrName",
            "in": "path",
            "required": true,
            "type": "string"
          },
          {
            "name": "idOrName",
            "in": "path",
            "required": true,
            "type": "string"
          },
          {
            "name": "requesterId",
            "in": "query",
            "required": false,
            "type": "string"
          }
        ],
        "tags": [
          "Secret"
        ]
      },
      "patch": {
        "summary": "Updates a secret",
        "description": "Updates the specified secret (can be referenced by ID or name)",
        "operationId": "Superplane_UpdateSecret",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/SuperplaneUpdateSecretResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "canvasIdOrName",
            "in": "path",
            "required": true,
            "type": "string"
          },
          {
            "name": "idOrName",
            "in": "path",
            "required": true,
            "type": "string"
          },
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/SuperplaneUpdateSecretBody"
            }
          }
        ],
        "tags": [
          "Secret"
        ]
      }
    },
    "/api/v1/canvases/{canvasIdOrName}/stages": {
      "get": {
        "summary": "List stages",
        "description": "Returns a list of all stages for the specified canvas (can be referenced by ID or name)",
        "operationId": "Superplane_ListStages",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/SuperplaneListStagesResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "canvasIdOrName",
            "in": "path",
            "required": true,
            "type": "string"
          }
        ],
        "tags": [
          "Stage"
        ]
      },
      "post": {
        "summary": "Create a new stage",
        "description": "Creates a new stage for the specified canvas (can be referenced by ID or name)",
        "operationId": "Superplane_CreateStage",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/SuperplaneCreateStageResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "canvasIdOrName",
            "in": "path",
            "required": true,
            "type": "string"
          },
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/SuperplaneCreateStageBody"
            }
          }
        ],
        "tags": [
          "Stage"
        ]
      }
    },
    "/api/v1/canvases/{canvasIdOrName}/stages/{idOrName}": {
      "patch": {
        "summary": "Update a stage",
        "description": "Updates the specified stage (canvas can be referenced by ID or name)",
        "operationId": "Superplane_UpdateStage",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/SuperplaneUpdateStageResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "canvasIdOrName",
            "in": "path",
            "required": true,
            "type": "string"
          },
          {
            "name": "idOrName",
            "in": "path",
            "required": true,
            "type": "string"
          },
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/SuperplaneUpdateStageBody"
            }
          }
        ],
        "tags": [
          "Stage"
        ]
      }
    },
    "/api/v1/canvases/{canvasIdOrName}/stages/{id}": {
      "get": {
        "summary": "Get stage details",
        "description": "Returns the details of a specific stage (canvas can be referenced by ID or name)",
        "operationId": "Superplane_DescribeStage",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/SuperplaneDescribeStageResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "canvasIdOrName",
            "in": "path",
            "required": true,
            "type": "string"
          },
          {
            "name": "id",
            "in": "path",
            "required": true,
            "type": "string"
          },
          {
            "name": "name",
            "in": "query",
            "required": false,
            "type": "string"
          }
        ],
        "tags": [
          "Stage"
        ]
      }
    },
    "/api/v1/canvases/{canvasIdOrName}/stages/{stageIdOrName}/events": {
      "get": {
        "summary": "List stage events",
        "description": "Returns a list of events for the specified stage (canvas can be referenced by ID or name)",
        "operationId": "Superplane_ListStageEvents",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/SuperplaneListStageEventsResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "canvasIdOrName",
            "in": "path",
            "required": true,
            "type": "string"
          },
          {
            "name": "stageIdOrName",
            "in": "path",
            "required": true,
            "type": "string"
          },
          {
            "name": "states",
            "in": "query",
            "required": false,
            "type": "array",
            "items": {
              "type": "string",
              "enum": [
                "STATE_UNKNOWN",
                "STATE_PENDING",
                "STATE_WAITING",
                "STATE_PROCESSED"
              ]
            },
            "collectionFormat": "multi"
          },
          {
            "name": "stateReasons",
            "in": "query",
            "required": false,
            "type": "array",
            "items": {
              "type": "string",
              "enum": [
                "STATE_REASON_UNKNOWN",
                "STATE_REASON_APPROVAL",
                "STATE_REASON_TIME_WINDOW",
                "STATE_REASON_EXECUTION",
                "STATE_REASON_CONNECTION",
                "STATE_REASON_CANCELLED",
                "STATE_REASON_UNHEALTHY"
              ]
            },
            "collectionFormat": "multi"
          }
        ],
        "tags": [
          "Event"
        ]
      }
    },
    "/api/v1/canvases/{canvasIdOrName}/stages/{stageIdOrName}/events/{eventId}/approve": {
      "post": {
        "summary": "Approve a stage event",
        "description": "Approves the specified stage event (canvas can be referenced by ID or name)",
        "operationId": "Superplane_ApproveStageEvent",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/SuperplaneApproveStageEventResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "canvasIdOrName",
            "in": "path",
            "required": true,
            "type": "string"
          },
          {
            "name": "stageIdOrName",
            "in": "path",
            "required": true,
            "type": "string"
          },
          {
            "name": "eventId",
            "in": "path",
            "required": true,
            "type": "string"
          },
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/SuperplaneApproveStageEventBody"
            }
          }
        ],
        "tags": [
          "Event"
        ]
      }
    },
    "/api/v1/canvases/{id}": {
      "get": {
        "summary": "Get canvas details",
        "description": "Returns the details of a specific canvas",
        "operationId": "Superplane_DescribeCanvas",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/SuperplaneDescribeCanvasResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "type": "string"
          },
          {
            "name": "name",
            "in": "query",
            "required": false,
            "type": "string"
          }
        ],
        "tags": [
          "Canvas"
        ]
      }
    }
  },
  "definitions": {
    "AuthorizationAddUserToGroupBody": {
      "type": "object",
      "properties": {
        "userId": {
          "type": "string"
        }
      }
    },
    "AuthorizationAddUserToGroupResponse": {
      "type": "object"
    },
    "AuthorizationAssignRoleRequest": {
      "type": "object",
      "properties": {
        "userId": {
          "type": "string"
        },
        "roleAssignment": {
          "$ref": "#/definitions/AuthorizationRoleAssignment"
        }
      },
      "title": "Role assignment messages"
    },
    "AuthorizationAssignRoleResponse": {
      "type": "object"
    },
    "AuthorizationCanvasRole": {
      "type": "string",
      "enum": [
        "CANVAS_ROLE_UNSPECIFIED",
        "CANVAS_VIEWER",
        "CANVAS_ADMIN",
        "CANVAS_OWNER"
      ],
      "default": "CANVAS_ROLE_UNSPECIFIED"
    },
    "AuthorizationCheckPermissionRequest": {
      "type": "object",
      "properties": {
        "userId": {
          "type": "string"
        },
        "domainType": {
          "$ref": "#/definitions/AuthorizationDomainType"
        },
        "domainId": {
          "type": "string"
        },
        "resource": {
          "type": "string"
        },
        "action": {
          "type": "string"
        }
      },
      "title": "Core permission check messages"
    },
    "AuthorizationCheckPermissionResponse": {
      "type": "object",
      "properties": {
        "allowed": {
          "type": "boolean"
        }
      }
    },
    "AuthorizationCreateGroupBody": {
      "type": "object",
      "properties": {
        "groupName": {
          "type": "string"
        },
        "role": {
          "$ref": "#/definitions/AuthorizationOrganizationRole"
        }
      },
      "title": "Group management messages"
    },
    "AuthorizationCreateGroupResponse": {
      "type": "object"
    },
    "AuthorizationDescribeRoleResponse": {
      "type": "object",
      "properties": {
        "role": {
          "$ref": "#/definitions/AuthorizationRole"
        }
      }
    },
    "AuthorizationDomainType": {
      "type": "string",
      "enum": [
        "DOMAIN_TYPE_UNSPECIFIED",
        "DOMAIN_TYPE_ORGANIZATION",
        "DOMAIN_TYPE_CANVAS"
      ],
      "default": "DOMAIN_TYPE_UNSPECIFIED",
      "title": "Enums"
    },
    "AuthorizationGetGroupUsersResponse": {
      "type": "object",
      "properties": {
        "userIds": {
          "type": "array",
          "items": {
            "type": "string"
          }
        }
      }
    },
    "AuthorizationGetUserRolesResponse": {
      "type": "object",
      "properties": {
        "userId": {
          "type": "string"
        },
        "domainType": {
          "$ref": "#/definitions/AuthorizationDomainType"
        },
        "domainId": {
          "type": "string"
        },
        "roles": {
          "type": "array",
          "items": {
            "type": "object",
            "$ref": "#/definitions/AuthorizationUserRole"
          }
        }
      }
    },
    "AuthorizationListAccessibleCanvasesResponse": {
      "type": "object",
      "properties": {
        "canvasIds": {
          "type": "array",
          "items": {
            "type": "string"
          }
        }
      }
    },
    "AuthorizationListAccessibleOrganizationsResponse": {
      "type": "object",
      "properties": {
        "orgIds": {
          "type": "array",
          "items": {
            "type": "string"
          }
        }
      }
    },
    "AuthorizationListCanvasUsersForRoleResponse": {
      "type": "object",
      "properties": {
        "userIds": {
          "type": "array",
          "items": {
            "type": "string"
          }
        }
      }
    },
    "AuthorizationListOrganizationGroupsResponse": {
      "type": "object",
      "properties": {
        "groups": {
          "type": "array",
          "items": {
            "type": "string"
          }
        }
      }
    },
    "AuthorizationListOrganizationUsersForRoleResponse": {
      "type": "object",
      "properties": {
        "userIds": {
          "type": "array",
          "items": {
            "type": "string"
          }
        }
      }
    },
    "AuthorizationListRolesResponse": {
      "type": "object",
      "properties": {
        "roles": {
          "type": "array",
          "items": {
            "type": "object",
            "$ref": "#/definitions/AuthorizationRole"
          }
        }
      }
    },
    "AuthorizationListUserPermissionsResponse": {
      "type": "object",
      "properties": {
        "userId": {
          "type": "string"
        },
        "domainType": {
          "$ref": "#/definitions/AuthorizationDomainType"
        },
        "domainId": {
          "type": "string"
        },
        "permissions": {
          "type": "array",
          "items": {
            "type": "object",
            "$ref": "#/definitions/AuthorizationPermission"
          }
        }
      }
    },
    "AuthorizationOrganizationRole": {
      "type": "string",
      "enum": [
        "ORG_ROLE_UNSPECIFIED",
        "ORG_VIEWER",
        "ORG_ADMIN",
        "ORG_OWNER"
      ],
      "default": "ORG_ROLE_UNSPECIFIED"
    },
    "AuthorizationPermission": {
      "type": "object",
      "properties": {
        "resource": {
          "type": "string"
        },
        "action": {
          "type": "string"
        },
        "description": {
          "type": "string"
        },
        "domainType": {
          "$ref": "#/definitions/AuthorizationDomainType"
        }
      }
    },
    "AuthorizationRemoveRoleRequest": {
      "type": "object",
      "properties": {
        "userId": {
          "type": "string"
        },
        "roleAssignment": {
          "$ref": "#/definitions/AuthorizationRoleAssignment"
        }
      }
    },
    "AuthorizationRemoveRoleResponse": {
      "type": "object"
    },
    "AuthorizationRemoveUserFromGroupResponse": {
      "type": "object"
    },
    "AuthorizationRole": {
      "type": "object",
      "properties": {
        "name": {
          "type": "string"
        },
        "domainType": {
          "$ref": "#/definitions/AuthorizationDomainType"
        },
        "description": {
          "type": "string"
        },
        "permissions": {
          "type": "array",
          "items": {
            "type": "object",
            "$ref": "#/definitions/AuthorizationPermission"
          }
        },
        "inheritedRole": {
          "$ref": "#/definitions/AuthorizationRole"
        },
        "readonly": {
          "type": "boolean"
        }
      },
      "title": "Core data structures"
    },
    "AuthorizationRoleAssignment": {
      "type": "object",
      "properties": {
        "domainType": {
          "$ref": "#/definitions/AuthorizationDomainType"
        },
        "domainId": {
          "type": "string"
        },
        "orgRole": {
          "$ref": "#/definitions/AuthorizationOrganizationRole"
        },
        "canvasRole": {
          "$ref": "#/definitions/AuthorizationCanvasRole"
        }
      }
    },
    "AuthorizationUserRole": {
      "type": "object",
      "properties": {
        "orgRole": {
          "$ref": "#/definitions/AuthorizationOrganizationRole"
        },
        "canvasRole": {
          "$ref": "#/definitions/AuthorizationCanvasRole"
        }
      }
    },
    "ConnectionDataFilter": {
      "type": "object",
      "properties": {
        "expression": {
          "type": "string"
        }
      }
    },
    "ConnectionFilter": {
      "type": "object",
      "properties": {
        "type": {
          "$ref": "#/definitions/ConnectionFilterType"
        },
        "data": {
          "$ref": "#/definitions/ConnectionDataFilter"
        },
        "header": {
          "$ref": "#/definitions/ConnectionHeaderFilter"
        }
      }
    },
    "ConnectionFilterOperator": {
      "type": "string",
      "enum": [
        "FILTER_OPERATOR_AND",
        "FILTER_OPERATOR_OR"
      ],
      "default": "FILTER_OPERATOR_AND",
      "title": "Filters can be combined in two ways:\n  - FILTER_OPERATOR_AND: all filters must be true (default)\n  - FILTER_OPERATOR_OR: at least one filter must be true"
    },
    "ConnectionFilterType": {
      "type": "string",
      "enum": [
        "FILTER_TYPE_UNKNOWN",
        "FILTER_TYPE_DATA",
        "FILTER_TYPE_HEADER"
      ],
      "default": "FILTER_TYPE_UNKNOWN"
    },
    "ConnectionHeaderFilter": {
      "type": "object",
      "properties": {
        "expression": {
          "type": "string"
        }
      }
    },
    "ExecutionResult": {
      "type": "string",
      "enum": [
        "RESULT_UNKNOWN",
        "RESULT_PASSED",
        "RESULT_FAILED"
      ],
      "default": "RESULT_UNKNOWN"
    },
    "ExecutorSpecHTTP": {
      "type": "object",
      "properties": {
        "url": {
          "type": "string"
        },
        "headers": {
          "type": "object",
          "additionalProperties": {
            "type": "string"
          }
        },
        "payload": {
          "type": "object",
          "additionalProperties": {
            "type": "string"
          }
        },
        "responsePolicy": {
          "$ref": "#/definitions/ExecutorSpecHTTPResponsePolicy"
        }
      }
    },
    "ExecutorSpecHTTPResponsePolicy": {
      "type": "object",
      "properties": {
        "statusCodes": {
          "type": "array",
          "items": {
            "type": "integer",
            "format": "int64"
          }
        }
      }
    },
    "ExecutorSpecSemaphore": {
      "type": "object",
      "properties": {
        "projectId": {
          "type": "string"
        },
        "branch": {
          "type": "string"
        },
        "pipelineFile": {
          "type": "string"
        },
        "taskId": {
          "type": "string"
        },
        "parameters": {
          "type": "object",
          "additionalProperties": {
            "type": "string"
          }
        },
        "apiToken": {
          "type": "string"
        },
        "organizationUrl": {
          "type": "string"
        }
      }
    },
    "InputMappingWhen": {
      "type": "object",
      "properties": {
        "triggeredBy": {
          "$ref": "#/definitions/InputMappingWhenTriggeredBy"
        }
      }
    },
    "InputMappingWhenTriggeredBy": {
      "type": "object",
      "properties": {
        "connection": {
          "type": "string"
        }
      }
    },
    "SecretLocal": {
      "type": "object",
      "properties": {
        "data": {
          "type": "object",
          "additionalProperties": {
            "type": "string"
          }
        }
      },
      "description": "Local secrets are stored and managed by SuperPlane itself."
    },
    "SecretProvider": {
      "type": "string",
      "enum": [
        "PROVIDER_UNKNOWN",
        "PROVIDER_LOCAL"
      ],
      "default": "PROVIDER_UNKNOWN"
    },
    "StageEventStateReason": {
      "type": "string",
      "enum": [
        "STATE_REASON_UNKNOWN",
        "STATE_REASON_APPROVAL",
        "STATE_REASON_TIME_WINDOW",
        "STATE_REASON_EXECUTION",
        "STATE_REASON_CONNECTION",
        "STATE_REASON_CANCELLED",
        "STATE_REASON_UNHEALTHY"
      ],
      "default": "STATE_REASON_UNKNOWN"
    },
    "SuperplaneApproveStageEventBody": {
      "type": "object",
      "properties": {
        "requesterId": {
          "type": "string"
        }
      }
    },
    "SuperplaneApproveStageEventResponse": {
      "type": "object",
      "properties": {
        "event": {
          "$ref": "#/definitions/SuperplaneStageEvent"
        }
      }
    },
    "SuperplaneCanvas": {
      "type": "object",
      "properties": {
        "metadata": {
          "$ref": "#/definitions/SuperplaneCanvasMetadata",
          "title": "No spec needed for Canvas as per the YAML example"
        }
      }
    },
    "SuperplaneCanvasMetadata": {
      "type": "object",
      "properties": {
        "id": {
          "type": "string"
        },
        "name": {
          "type": "string"
        },
        "createdBy": {
          "type": "string"
        },
        "createdAt": {
          "type": "string",
          "format": "date-time"
        }
      }
    },
    "SuperplaneCondition": {
      "type": "object",
      "properties": {
        "type": {
          "$ref": "#/definitions/SuperplaneConditionType"
        },
        "approval": {
          "$ref": "#/definitions/SuperplaneConditionApproval"
        },
        "timeWindow": {
          "$ref": "#/definitions/SuperplaneConditionTimeWindow"
        }
      }
    },
    "SuperplaneConditionApproval": {
      "type": "object",
      "properties": {
        "count": {
          "type": "integer",
          "format": "int64"
        }
      }
    },
    "SuperplaneConditionTimeWindow": {
      "type": "object",
      "properties": {
        "start": {
          "type": "string"
        },
        "end": {
          "type": "string"
        },
        "weekDays": {
          "type": "array",
          "items": {
            "type": "string"
          }
        }
      }
    },
    "SuperplaneConditionType": {
      "type": "string",
      "enum": [
        "CONDITION_TYPE_UNKNOWN",
        "CONDITION_TYPE_APPROVAL",
        "CONDITION_TYPE_TIME_WINDOW"
      ],
      "default": "CONDITION_TYPE_UNKNOWN"
    },
    "SuperplaneConnection": {
      "type": "object",
      "properties": {
        "type": {
          "$ref": "#/definitions/SuperplaneConnectionType"
        },
        "name": {
          "type": "string"
        },
        "filters": {
          "type": "array",
          "items": {
            "type": "object",
            "$ref": "#/definitions/ConnectionFilter"
          }
        },
        "filterOperator": {
          "$ref": "#/definitions/ConnectionFilterOperator"
        }
      }
    },
    "SuperplaneConnectionType": {
      "type": "string",
      "enum": [
        "TYPE_UNKNOWN",
        "TYPE_EVENT_SOURCE",
        "TYPE_STAGE"
      ],
      "default": "TYPE_UNKNOWN"
    },
    "SuperplaneCreateCanvasRequest": {
      "type": "object",
      "properties": {
        "canvas": {
          "$ref": "#/definitions/SuperplaneCanvas"
        },
        "requesterId": {
          "type": "string"
        }
      }
    },
    "SuperplaneCreateCanvasResponse": {
      "type": "object",
      "properties": {
        "canvas": {
          "$ref": "#/definitions/SuperplaneCanvas"
        }
      }
    },
    "SuperplaneCreateEventSourceBody": {
      "type": "object",
      "properties": {
        "eventSource": {
          "$ref": "#/definitions/SuperplaneEventSource"
        },
        "requesterId": {
          "type": "string"
        }
      }
    },
    "SuperplaneCreateEventSourceResponse": {
      "type": "object",
      "properties": {
        "eventSource": {
          "$ref": "#/definitions/SuperplaneEventSource"
        },
        "key": {
          "type": "string"
        }
      }
    },
    "SuperplaneCreateSecretBody": {
      "type": "object",
      "properties": {
        "secret": {
          "$ref": "#/definitions/SuperplaneSecret"
        },
        "requesterId": {
          "type": "string"
        }
      }
    },
    "SuperplaneCreateSecretResponse": {
      "type": "object",
      "properties": {
        "secret": {
          "$ref": "#/definitions/SuperplaneSecret"
        }
      }
    },
    "SuperplaneCreateStageBody": {
      "type": "object",
      "properties": {
        "stage": {
          "$ref": "#/definitions/SuperplaneStage"
        },
        "requesterId": {
          "type": "string"
        }
      }
    },
    "SuperplaneCreateStageResponse": {
      "type": "object",
      "properties": {
        "stage": {
          "$ref": "#/definitions/SuperplaneStage"
        }
      }
    },
    "SuperplaneDeleteSecretResponse": {
      "type": "object"
    },
    "SuperplaneDescribeCanvasResponse": {
      "type": "object",
      "properties": {
        "canvas": {
          "$ref": "#/definitions/SuperplaneCanvas"
        }
      }
    },
    "SuperplaneDescribeEventSourceResponse": {
      "type": "object",
      "properties": {
        "eventSource": {
          "$ref": "#/definitions/SuperplaneEventSource"
        }
      }
    },
    "SuperplaneDescribeSecretResponse": {
      "type": "object",
      "properties": {
        "secret": {
          "$ref": "#/definitions/SuperplaneSecret"
        }
      }
    },
    "SuperplaneDescribeStageResponse": {
      "type": "object",
      "properties": {
        "stage": {
          "$ref": "#/definitions/SuperplaneStage"
        }
      }
    },
    "SuperplaneEventSource": {
      "type": "object",
      "properties": {
        "metadata": {
          "$ref": "#/definitions/SuperplaneEventSourceMetadata"
        },
        "spec": {
          "$ref": "#/definitions/SuperplaneEventSourceSpec"
        }
      }
    },
    "SuperplaneEventSourceMetadata": {
      "type": "object",
      "properties": {
        "id": {
          "type": "string"
        },
        "name": {
          "type": "string"
        },
        "canvasId": {
          "type": "string"
        },
        "createdAt": {
          "type": "string",
          "format": "date-time"
        }
      }
    },
    "SuperplaneEventSourceSpec": {
      "type": "object",
      "title": "No additional configuration needed as per the YAML example"
    },
    "SuperplaneExecution": {
      "type": "object",
      "properties": {
        "id": {
          "type": "string"
        },
        "referenceId": {
          "type": "string"
        },
        "state": {
          "$ref": "#/definitions/SuperplaneExecutionState"
        },
        "result": {
          "$ref": "#/definitions/ExecutionResult"
        },
        "createdAt": {
          "type": "string",
          "format": "date-time"
        },
        "startedAt": {
          "type": "string",
          "format": "date-time"
        },
        "finishedAt": {
          "type": "string",
          "format": "date-time"
        },
        "outputs": {
          "type": "array",
          "items": {
            "type": "object",
            "$ref": "#/definitions/SuperplaneOutputValue"
          }
        }
      }
    },
    "SuperplaneExecutionState": {
      "type": "string",
      "enum": [
        "STATE_UNKNOWN",
        "STATE_PENDING",
        "STATE_STARTED",
        "STATE_FINISHED"
      ],
      "default": "STATE_UNKNOWN"
    },
    "SuperplaneExecutorSpec": {
      "type": "object",
      "properties": {
        "type": {
          "$ref": "#/definitions/SuperplaneExecutorSpecType"
        },
        "semaphore": {
          "$ref": "#/definitions/ExecutorSpecSemaphore"
        },
        "http": {
          "$ref": "#/definitions/ExecutorSpecHTTP"
        }
      }
    },
    "SuperplaneExecutorSpecType": {
      "type": "string",
      "enum": [
        "TYPE_UNKNOWN",
        "TYPE_SEMAPHORE",
        "TYPE_HTTP"
      ],
      "default": "TYPE_UNKNOWN"
    },
    "SuperplaneInputDefinition": {
      "type": "object",
      "properties": {
        "name": {
          "type": "string"
        },
        "description": {
          "type": "string"
        }
      }
    },
    "SuperplaneInputMapping": {
      "type": "object",
      "properties": {
        "values": {
          "type": "array",
          "items": {
            "type": "object",
            "$ref": "#/definitions/SuperplaneValueDefinition"
          }
        },
        "when": {
          "$ref": "#/definitions/InputMappingWhen"
        }
      }
    },
    "SuperplaneInputValue": {
      "type": "object",
      "properties": {
        "name": {
          "type": "string"
        },
        "value": {
          "type": "string"
        }
      }
    },
    "SuperplaneListCanvasesResponse": {
      "type": "object",
      "properties": {
        "canvases": {
          "type": "array",
          "items": {
            "type": "object",
            "$ref": "#/definitions/SuperplaneCanvas"
          }
        }
      }
    },
    "SuperplaneListEventSourcesResponse": {
      "type": "object",
      "properties": {
        "eventSources": {
          "type": "array",
          "items": {
            "type": "object",
            "$ref": "#/definitions/SuperplaneEventSource"
          }
        }
      }
    },
    "SuperplaneListSecretsResponse": {
      "type": "object",
      "properties": {
        "secrets": {
          "type": "array",
          "items": {
            "type": "object",
            "$ref": "#/definitions/SuperplaneSecret"
          }
        }
      }
    },
    "SuperplaneListStageEventsResponse": {
      "type": "object",
      "properties": {
        "events": {
          "type": "array",
          "items": {
            "type": "object",
            "$ref": "#/definitions/SuperplaneStageEvent"
          }
        }
      }
    },
    "SuperplaneListStagesResponse": {
      "type": "object",
      "properties": {
        "stages": {
          "type": "array",
          "items": {
            "type": "object",
            "$ref": "#/definitions/SuperplaneStage"
          }
        }
      }
    },
    "SuperplaneOutputDefinition": {
      "type": "object",
      "properties": {
        "name": {
          "type": "string"
        },
        "description": {
          "type": "string"
        },
        "required": {
          "type": "boolean"
        }
      }
    },
    "SuperplaneOutputValue": {
      "type": "object",
      "properties": {
        "name": {
          "type": "string"
        },
        "value": {
          "type": "string"
        }
      }
    },
    "SuperplaneSecret": {
      "type": "object",
      "properties": {
        "metadata": {
          "$ref": "#/definitions/SuperplaneSecretMetadata"
        },
        "spec": {
          "$ref": "#/definitions/SuperplaneSecretSpec"
        }
      }
    },
    "SuperplaneSecretMetadata": {
      "type": "object",
      "properties": {
        "id": {
          "type": "string"
        },
        "name": {
          "type": "string"
        },
        "canvasId": {
          "type": "string"
        },
        "createdAt": {
          "type": "string",
          "format": "date-time"
        }
      }
    },
    "SuperplaneSecretSpec": {
      "type": "object",
      "properties": {
        "provider": {
          "$ref": "#/definitions/SecretProvider"
        },
        "local": {
          "$ref": "#/definitions/SecretLocal"
        }
      }
    },
    "SuperplaneStage": {
      "type": "object",
      "properties": {
        "metadata": {
          "$ref": "#/definitions/SuperplaneStageMetadata"
        },
        "spec": {
          "$ref": "#/definitions/SuperplaneStageSpec"
        }
      }
    },
    "SuperplaneStageEvent": {
      "type": "object",
      "properties": {
        "id": {
          "type": "string"
        },
        "sourceId": {
          "type": "string"
        },
        "sourceType": {
          "$ref": "#/definitions/SuperplaneConnectionType"
        },
        "state": {
          "$ref": "#/definitions/SuperplaneStageEventState"
        },
        "stateReason": {
          "$ref": "#/definitions/StageEventStateReason"
        },
        "createdAt": {
          "type": "string",
          "format": "date-time"
        },
        "approvals": {
          "type": "array",
          "items": {
            "type": "object",
            "$ref": "#/definitions/SuperplaneStageEventApproval"
          }
        },
        "execution": {
          "$ref": "#/definitions/SuperplaneExecution"
        },
        "inputs": {
          "type": "array",
          "items": {
            "type": "object",
            "$ref": "#/definitions/SuperplaneInputValue"
          }
        }
      }
    },
    "SuperplaneStageEventApproval": {
      "type": "object",
      "properties": {
        "approvedBy": {
          "type": "string"
        },
        "approvedAt": {
          "type": "string",
          "format": "date-time"
        }
      }
    },
    "SuperplaneStageEventState": {
      "type": "string",
      "enum": [
        "STATE_UNKNOWN",
        "STATE_PENDING",
        "STATE_WAITING",
        "STATE_PROCESSED"
      ],
      "default": "STATE_UNKNOWN"
    },
    "SuperplaneStageMetadata": {
      "type": "object",
      "properties": {
        "id": {
          "type": "string"
        },
        "name": {
          "type": "string"
        },
        "canvasId": {
          "type": "string"
        },
        "createdAt": {
          "type": "string",
          "format": "date-time"
        }
      }
    },
    "SuperplaneStageSpec": {
      "type": "object",
      "properties": {
        "connections": {
          "type": "array",
          "items": {
            "type": "object",
            "$ref": "#/definitions/SuperplaneConnection"
          }
        },
        "conditions": {
          "type": "array",
          "items": {
            "type": "object",
            "$ref": "#/definitions/SuperplaneCondition"
          }
        },
        "executor": {
          "$ref": "#/definitions/SuperplaneExecutorSpec"
        },
        "inputs": {
          "type": "array",
          "items": {
            "type": "object",
            "$ref": "#/definitions/SuperplaneInputDefinition"
          }
        },
        "inputMappings": {
          "type": "array",
          "items": {
            "type": "object",
            "$ref": "#/definitions/SuperplaneInputMapping"
          }
        },
        "outputs": {
          "type": "array",
          "items": {
            "type": "object",
            "$ref": "#/definitions/SuperplaneOutputDefinition"
          }
        },
        "secrets": {
          "type": "array",
          "items": {
            "type": "object",
            "$ref": "#/definitions/SuperplaneValueDefinition"
          }
        }
      }
    },
    "SuperplaneUpdateSecretBody": {
      "type": "object",
      "properties": {
        "secret": {
          "$ref": "#/definitions/SuperplaneSecret"
        },
        "requesterId": {
          "type": "string"
        }
      }
    },
    "SuperplaneUpdateSecretResponse": {
      "type": "object",
      "properties": {
        "secret": {
          "$ref": "#/definitions/SuperplaneSecret"
        }
      }
    },
    "SuperplaneUpdateStageBody": {
      "type": "object",
      "properties": {
        "stage": {
          "$ref": "#/definitions/SuperplaneStage"
        },
        "requesterId": {
          "type": "string"
        }
      }
    },
    "SuperplaneUpdateStageResponse": {
      "type": "object",
      "properties": {
        "stage": {
          "$ref": "#/definitions/SuperplaneStage"
        }
      }
    },
    "SuperplaneValueDefinition": {
      "type": "object",
      "properties": {
        "name": {
          "type": "string"
        },
        "valueFrom": {
          "$ref": "#/definitions/SuperplaneValueFrom"
        },
        "value": {
          "type": "string"
        }
      }
    },
    "SuperplaneValueFrom": {
      "type": "object",
      "properties": {
        "eventData": {
          "$ref": "#/definitions/SuperplaneValueFromEventData"
        },
        "lastExecution": {
          "$ref": "#/definitions/SuperplaneValueFromLastExecution"
        },
        "secret": {
          "$ref": "#/definitions/SuperplaneValueFromSecret"
        }
      }
    },
    "SuperplaneValueFromEventData": {
      "type": "object",
      "properties": {
        "connection": {
          "type": "string"
        },
        "expression": {
          "type": "string"
        }
      }
    },
    "SuperplaneValueFromLastExecution": {
      "type": "object",
      "properties": {
        "results": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/ExecutionResult"
          }
        }
      }
    },
    "SuperplaneValueFromSecret": {
      "type": "object",
      "properties": {
        "name": {
          "type": "string"
        },
        "key": {
          "type": "string"
        }
      }
    },
    "protobufAny": {
      "type": "object",
      "properties": {
        "@type": {
          "type": "string"
        }
      },
      "additionalProperties": {}
    },
    "rpcStatus": {
      "type": "object",
      "properties": {
        "code": {
          "type": "integer",
          "format": "int32"
        },
        "message": {
          "type": "string"
        },
        "details": {
          "type": "array",
          "items": {
            "type": "object",
            "$ref": "#/definitions/protobufAny"
          }
        }
      }
    }
  }
}
